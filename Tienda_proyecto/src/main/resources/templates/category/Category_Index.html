<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/Layout" 
	layout:decorate="~{Layout/Layout}">
<head th:replace="Layout/Layout :: head">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIEW CATEGORIES</title>
</head>
<body>

	<div layout:fragment="page-content">
	<!-- INICIO DE CONTENT -->
		
		<br>
		<br>
		<!-- TABLA INDEX -->
		<div class="container card">
	    	<div class="ui basic segment">
	
		        <div class="ui icon attached message">
		            <i class="tag icon"></i>
		            <div class="content">
		                <div class="header">
		                    Categorias
		                </div>
		            </div>
		        </div>
	
		        <br>
		        <div class="ui grid">
		            <div class="eight wide column">
		                <a class="ui small btn-primary icon button" id="btnCreateCategory">
		                    <i class="plus icon"></i> Nuevo
		                </a>
		            </div>
		        </div>
	
	        	<table class="ui compact selectable celled table" id="grdData">
		            <thead>
		                <tr>
		                    <th>CATEGORIA</th>
		                    <th></th>
		                </tr>
		            </thead>
		            <tbody>
		                <tr th:each="categoria:${categorias}">
		                    <td th:text="${categoria.Cat_Descripcion}"></td>
		                    <td>
		                        <a th:onclick="editCategory([[${categoria.Cat_Id}]])" class="ui icon green button">
		                        	  <i class="pencil alternate icon"></i>
		                        </a>
		                        <a th:onclick="deleteCategory([[${categoria.Cat_Id}]])" class="ui icon button">
		                        	 <i class="trash alternate icon"></i>
		                        </a>
		                    </td>
		                </tr>
		            </tbody>
		        </table><br>
		    </div>
		</div>
		<br>
		
		
		<!-- MODAL CREATE/UPDATE -->
		
		<div class="ui modal" id="mdlSaveCategory">
			<i class="close icon"></i>
		    <div class="header" id="tittle">
		    	Crea categoria
		    </div>
		    <div class="content">
			    <form th:action="@{/categories/save}" th:object="${categoria}" method="post" id="frmSaveCategory">
				    <div class="ui form centered">
					    <div class="content">
					       <input type="text" th:field="*{Cat_Id}" hidden>
						   <div class="required eight wide field">
			                    <label class="ui label">Ingresa el nombre de la nueva categoria</label>
			                    <input type="text" th:field="*{Cat_Descripcion}">
			                </div>
					    </div>
				    </div>
				</form>
			</div>
		    <div class="actions">
		    	<a class="ui black deny button">Cancelar</a>
		    	<a class="ui positive right labeled icon button" id="btnSave">
		      		Guardar <i class="checkmark icon"></i>
		    	</a>
		    </div>
		</div>


	<!-- FIN DE CONTENT -->
	</div>
	
	 <th:block layout:fragment="scripts">
     	<script th:src="@{/js_files/category_js.js}" type="text/javascript"></script>
     	
	</th:block>

</body>
</html>